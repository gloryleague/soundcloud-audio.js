!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.SoundCloudAudio=t()}}(function(){return function t(e,i,o){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};e[s][0].call(d.exports,function(t){var i=e[s][1][t];return r(i?i:t)},d,d.exports,t,e,i,o)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e){"use strict";function i(t){n||(n=document.createElement("a")),n.href=t||"";for(var e={},i=0,o=s.length;o>i;i++){var r=s[i];e[r]=n[r]}return e}function o(t,e,o){var r=i(t),n=/\?(?:.*)$/,s=n.test(r.search)?"&":"?",a=r.protocol+"//"+r.host+r.port+r.pathname+r.search+s+e+"="+o+r.hash;return a}function r(t){if(!(this instanceof r))return new r(t);if(!t)throw new Error("SoundCloud API clientId is required, get it - https://developers.soundcloud.com/");this._events={},this._clientId=t,this._baseUrl="https://api.soundcloud.com",this.playing=!1,this.duration=0,this.audio=document.createElement("audio")}var n,s="protocol hostname host pathname port search hash href".split(" ");r.prototype.resolve=function(t,e){if(!t)throw new Error("SoundCloud track or playlist url is required");var o=this._baseUrl+"/resolve.json?url="+encodeURIComponent(t)+"&client_id="+this._clientId;this._jsonp(o,function(o){if(this.cleanData(),Array.isArray(o)){var r=o;o={tracks:r},this._playlist=o}else if(o.tracks)this._playlist=o;else{this._track=o;var n=i(t);this._track.stream_url+=n.hash}this.duration=o.duration&&!isNaN(o.duration)?o.duration/1e3:0,e(o)}.bind(this))},r.prototype._jsonp=function(t,e){var i=document.getElementsByTagName("script")[0]||document.head,r=document.createElement("script"),n="jsonp_callback_"+(new Date).valueOf()+Math.floor(1e3*Math.random());window[n]=function(t){r.parentNode&&r.parentNode.removeChild(r),window[n]=function(){},e(t)},r.src=o(t,"callback",n),i.parentNode.insertBefore(r,i)},r.prototype.on=function(t,e){this._events[t]=e,this.audio.addEventListener(t,e,!1)},r.prototype.off=function(t,e){this._events[t]=null,this.audio.removeEventListener(t,e)},r.prototype.unbindAll=function(){for(var t in this._events){var e=this._events[t];e&&this.off(t,e)}},r.prototype.preload=function(t){this._track={stream_url:t},this.audio.src=o(t,"client_id",this._clientId)},r.prototype.play=function(t){t=t||{};var e;if(t.streamUrl)e=t.streamUrl;else if(this._playlist){var i=this._playlist.tracks.length;if(i){if(this._playlistIndex=t.playlistIndex||0,this._playlistIndex>=i||this._playlistIndex<0)return void(this._playlistIndex=0);e=this._playlist.tracks[this._playlistIndex].stream_url}}else this._track&&(e=this._track.stream_url);if(!e)throw new Error("There is no tracks to play, use `streamUrl` option or `load` method");e=o(e,"client_id",this._clientId),e!==this.audio.src&&(this.audio.src=e),this.playing=e,this.audio.play()},r.prototype.pause=function(){this.audio.pause(),this.playing=!1},r.prototype.stop=function(){this.audio.pause(),this.audio.readyState&&(this.audio.currentTime=0),this.playing=!1},r.prototype.next=function(){var t=this._playlist.tracks.length;this._playlistIndex>=t-1||this._playlist&&t&&this.play({playlistIndex:++this._playlistIndex})},r.prototype.previous=function(){this._playlistIndex<=0||this._playlist&&this._playlist.tracks.length&&this.play({playlistIndex:--this._playlistIndex})},r.prototype.seek=function(t){if(!this.audio.readyState)return!1;var e=t.offsetX/t.target.offsetWidth||(t.layerX-t.target.offsetLeft)/t.target.offsetWidth;this.audio.currentTime=e*(this.audio.duration||0)},r.prototype.cleanData=function(){this._track=void 0,this._playlist=void 0},e.exports=r},{}]},{},[1])(1)});